"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
var _reference = require("../utilities/reference");
var _customEventTypes = require("../customEventTypes");
var dropElement = null;
Object.assign(globalThis, {
    dropElement: dropElement
});
function drop(dragElement, aborted, done) {
    var customEventType = _customEventTypes.DROP_CUSTOM_EVENT_TYPE;
    this.callCustomHandlersAsync(customEventType, dragElement, aborted, done);
}
function dragOut(dragElement) {
    var customEventType = _customEventTypes.DRAG_OUT_CUSTOM_EVENT_TYPE;
    this.callCustomHandlers(customEventType, dragElement);
}
function dragOver(dragElement) {
    var customEventType = _customEventTypes.DRAG_OVER_CUSTOM_EVENT_TYPE;
    this.callCustomHandlers(customEventType, dragElement);
}
function enableDrop() {
    this.onMouseOut(mouseOutHandler, this);
    this.onMouseOver(mouseOverHandler, this);
}
function disableDrop() {
    this.offMouseOut(mouseOutHandler, this);
    this.offMouseOver(mouseOverHandler, this);
}
function onCustomDrop(dropCustomHandler, element) {
    var customEventType = _customEventTypes.DROP_CUSTOM_EVENT_TYPE, customHandler = dropCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomDrop(dropCustomHandler, element) {
    var customEventType = _customEventTypes.DROP_CUSTOM_EVENT_TYPE, customHandler = dropCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
function onCustomDragOut(dragOutCustomHandler, element) {
    var customEventType = _customEventTypes.DRAG_OUT_CUSTOM_EVENT_TYPE, customHandler = dragOutCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomDragOut(dragOutCustomHandler, element) {
    var customEventType = _customEventTypes.DRAG_OUT_CUSTOM_EVENT_TYPE, customHandler = dragOutCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
function onCustomDragOver(dragOverCustomHandler, element) {
    var customEventType = _customEventTypes.DRAG_OVER_CUSTOM_EVENT_TYPE, customHandler = dragOverCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomDragOver(dragOverCustomHandler, element) {
    var customEventType = _customEventTypes.DRAG_OVER_CUSTOM_EVENT_TYPE, customHandler = dragOverCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
var _default = {
    drop: drop,
    dragOut: dragOut,
    dragOver: dragOver,
    enableDrop: enableDrop,
    disableDrop: disableDrop,
    onCustomDrop: onCustomDrop,
    offCustomDrop: offCustomDrop,
    onCustomDragOut: onCustomDragOut,
    offCustomDragOut: offCustomDragOut,
    onCustomDragOver: onCustomDragOver,
    offCustomDragOver: offCustomDragOver
};
function mouseOutHandler(event, element) {
    var dragElement = globalThis.dragElement;
    if (dragElement !== null) {
        var dropElement = null; ///
        Object.assign(globalThis, {
            dropElement: dropElement
        });
        this.dragOut(dragElement);
    }
    event.stopPropagation();
}
function mouseOverHandler(event, element) {
    var dragElement = globalThis.dragElement;
    if (dragElement !== null) {
        var dropElement = this, dragElementIgnoresDropElement = (0, _reference.checkDragElementIgnoresDropElement)(dragElement, dropElement);
        if (dragElementIgnoresDropElement) {
            return;
        }
        Object.assign(globalThis, {
            dropElement: dropElement
        });
        this.dragOver(dragElement);
    }
    event.stopPropagation();
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taXhpbnMvZHJvcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgY2hlY2tEcmFnRWxlbWVudElnbm9yZXNEcm9wRWxlbWVudCB9IGZyb20gXCIuLi91dGlsaXRpZXMvcmVmZXJlbmNlXCI7XG5pbXBvcnQgeyBEUk9QX0NVU1RPTV9FVkVOVF9UWVBFLCBEUkFHX09VVF9DVVNUT01fRVZFTlRfVFlQRSwgRFJBR19PVkVSX0NVU1RPTV9FVkVOVF9UWVBFIH0gZnJvbSBcIi4uL2N1c3RvbUV2ZW50VHlwZXNcIjtcblxuY29uc3QgZHJvcEVsZW1lbnQgPSBudWxsO1xuXG5PYmplY3QuYXNzaWduKGdsb2JhbFRoaXMsIHtcbiAgZHJvcEVsZW1lbnRcbn0pO1xuXG5mdW5jdGlvbiBkcm9wKGRyYWdFbGVtZW50LCBhYm9ydGVkLCBkb25lKSB7XG4gIGNvbnN0IGN1c3RvbUV2ZW50VHlwZSA9IERST1BfQ1VTVE9NX0VWRU5UX1RZUEU7XG5cbiAgdGhpcy5jYWxsQ3VzdG9tSGFuZGxlcnNBc3luYyhjdXN0b21FdmVudFR5cGUsIGRyYWdFbGVtZW50LCBhYm9ydGVkLCBkb25lKTtcbn1cblxuZnVuY3Rpb24gZHJhZ091dChkcmFnRWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBEUkFHX09VVF9DVVNUT01fRVZFTlRfVFlQRTtcblxuICB0aGlzLmNhbGxDdXN0b21IYW5kbGVycyhjdXN0b21FdmVudFR5cGUsIGRyYWdFbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gZHJhZ092ZXIoZHJhZ0VsZW1lbnQpIHtcbiAgY29uc3QgY3VzdG9tRXZlbnRUeXBlID0gRFJBR19PVkVSX0NVU1RPTV9FVkVOVF9UWVBFO1xuXG4gIHRoaXMuY2FsbEN1c3RvbUhhbmRsZXJzKGN1c3RvbUV2ZW50VHlwZSwgZHJhZ0VsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBlbmFibGVEcm9wKCkge1xuICB0aGlzLm9uTW91c2VPdXQobW91c2VPdXRIYW5kbGVyLCB0aGlzKTtcbiAgdGhpcy5vbk1vdXNlT3Zlcihtb3VzZU92ZXJIYW5kbGVyLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGlzYWJsZURyb3AoKSB7XG4gIHRoaXMub2ZmTW91c2VPdXQobW91c2VPdXRIYW5kbGVyLCB0aGlzKTtcbiAgdGhpcy5vZmZNb3VzZU92ZXIobW91c2VPdmVySGFuZGxlciwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIG9uQ3VzdG9tRHJvcChkcm9wQ3VzdG9tSGFuZGxlciwgZWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBEUk9QX0NVU1RPTV9FVkVOVF9UWVBFLFxuICAgICAgICBjdXN0b21IYW5kbGVyID0gZHJvcEN1c3RvbUhhbmRsZXI7ICAvLy9cblxuICB0aGlzLm9uQ3VzdG9tRXZlbnQoY3VzdG9tRXZlbnRUeXBlLCBjdXN0b21IYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gb2ZmQ3VzdG9tRHJvcChkcm9wQ3VzdG9tSGFuZGxlciwgZWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBEUk9QX0NVU1RPTV9FVkVOVF9UWVBFLFxuICAgICAgICBjdXN0b21IYW5kbGVyID0gZHJvcEN1c3RvbUhhbmRsZXI7ICAvLy9cblxuICB0aGlzLm9mZkN1c3RvbUV2ZW50KGN1c3RvbUV2ZW50VHlwZSwgY3VzdG9tSGFuZGxlciwgZWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIG9uQ3VzdG9tRHJhZ091dChkcmFnT3V0Q3VzdG9tSGFuZGxlciwgZWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBEUkFHX09VVF9DVVNUT01fRVZFTlRfVFlQRSxcbiAgICAgICAgY3VzdG9tSGFuZGxlciA9IGRyYWdPdXRDdXN0b21IYW5kbGVyOyAgLy8vXG5cbiAgdGhpcy5vbkN1c3RvbUV2ZW50KGN1c3RvbUV2ZW50VHlwZSwgY3VzdG9tSGFuZGxlciwgZWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIG9mZkN1c3RvbURyYWdPdXQoZHJhZ091dEN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpIHtcbiAgY29uc3QgY3VzdG9tRXZlbnRUeXBlID0gRFJBR19PVVRfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgIGN1c3RvbUhhbmRsZXIgPSBkcmFnT3V0Q3VzdG9tSGFuZGxlcjsgIC8vL1xuXG4gIHRoaXMub2ZmQ3VzdG9tRXZlbnQoY3VzdG9tRXZlbnRUeXBlLCBjdXN0b21IYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gb25DdXN0b21EcmFnT3ZlcihkcmFnT3ZlckN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpIHtcbiAgY29uc3QgY3VzdG9tRXZlbnRUeXBlID0gRFJBR19PVkVSX0NVU1RPTV9FVkVOVF9UWVBFLFxuICAgICAgICBjdXN0b21IYW5kbGVyID0gZHJhZ092ZXJDdXN0b21IYW5kbGVyOyAgLy8vXG5cbiAgdGhpcy5vbkN1c3RvbUV2ZW50KGN1c3RvbUV2ZW50VHlwZSwgY3VzdG9tSGFuZGxlciwgZWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIG9mZkN1c3RvbURyYWdPdmVyKGRyYWdPdmVyQ3VzdG9tSGFuZGxlciwgZWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBEUkFHX09WRVJfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgIGN1c3RvbUhhbmRsZXIgPSBkcmFnT3ZlckN1c3RvbUhhbmRsZXI7ICAvLy9cblxuICB0aGlzLm9mZkN1c3RvbUV2ZW50KGN1c3RvbUV2ZW50VHlwZSwgY3VzdG9tSGFuZGxlciwgZWxlbWVudCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZHJvcCxcbiAgZHJhZ091dCxcbiAgZHJhZ092ZXIsXG4gIGVuYWJsZURyb3AsXG4gIGRpc2FibGVEcm9wLFxuICBvbkN1c3RvbURyb3AsXG4gIG9mZkN1c3RvbURyb3AsXG4gIG9uQ3VzdG9tRHJhZ091dCxcbiAgb2ZmQ3VzdG9tRHJhZ091dCxcbiAgb25DdXN0b21EcmFnT3ZlcixcbiAgb2ZmQ3VzdG9tRHJhZ092ZXJcbn1cblxuZnVuY3Rpb24gbW91c2VPdXRIYW5kbGVyKGV2ZW50LCBlbGVtZW50KSB7XG4gIGNvbnN0IHsgZHJhZ0VsZW1lbnQgfSA9IGdsb2JhbFRoaXM7XG5cbiAgaWYgKGRyYWdFbGVtZW50ICE9PSBudWxsKSB7XG4gICAgY29uc3QgZHJvcEVsZW1lbnQgPSBudWxsOyAvLy9cblxuICAgIE9iamVjdC5hc3NpZ24oZ2xvYmFsVGhpcywge1xuICAgICAgZHJvcEVsZW1lbnRcbiAgICB9KTtcblxuICAgIHRoaXMuZHJhZ091dChkcmFnRWxlbWVudCk7XG4gIH1cblxuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbn1cblxuZnVuY3Rpb24gbW91c2VPdmVySGFuZGxlcihldmVudCwgZWxlbWVudCkge1xuICBjb25zdCB7IGRyYWdFbGVtZW50IH0gPSBnbG9iYWxUaGlzO1xuXG4gIGlmIChkcmFnRWxlbWVudCAhPT0gbnVsbCkge1xuICAgIGNvbnN0IGRyb3BFbGVtZW50ID0gdGhpcywgLy8vXG4gICAgICAgICAgZHJhZ0VsZW1lbnRJZ25vcmVzRHJvcEVsZW1lbnQgPSBjaGVja0RyYWdFbGVtZW50SWdub3Jlc0Ryb3BFbGVtZW50KGRyYWdFbGVtZW50LCBkcm9wRWxlbWVudCk7XG5cbiAgICBpZiAoZHJhZ0VsZW1lbnRJZ25vcmVzRHJvcEVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBPYmplY3QuYXNzaWduKGdsb2JhbFRoaXMsIHtcbiAgICAgIGRyb3BFbGVtZW50XG4gICAgfSk7XG5cbiAgICB0aGlzLmRyYWdPdmVyKGRyYWdFbGVtZW50KTtcbiAgfVxuXG4gIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xufVxuIl0sIm5hbWVzIjpbImRyb3BFbGVtZW50IiwiT2JqZWN0IiwiYXNzaWduIiwiZ2xvYmFsVGhpcyIsImRyb3AiLCJkcmFnRWxlbWVudCIsImFib3J0ZWQiLCJkb25lIiwiY3VzdG9tRXZlbnRUeXBlIiwiRFJPUF9DVVNUT01fRVZFTlRfVFlQRSIsImNhbGxDdXN0b21IYW5kbGVyc0FzeW5jIiwiZHJhZ091dCIsIkRSQUdfT1VUX0NVU1RPTV9FVkVOVF9UWVBFIiwiY2FsbEN1c3RvbUhhbmRsZXJzIiwiZHJhZ092ZXIiLCJEUkFHX09WRVJfQ1VTVE9NX0VWRU5UX1RZUEUiLCJlbmFibGVEcm9wIiwib25Nb3VzZU91dCIsIm1vdXNlT3V0SGFuZGxlciIsIm9uTW91c2VPdmVyIiwibW91c2VPdmVySGFuZGxlciIsImRpc2FibGVEcm9wIiwib2ZmTW91c2VPdXQiLCJvZmZNb3VzZU92ZXIiLCJvbkN1c3RvbURyb3AiLCJkcm9wQ3VzdG9tSGFuZGxlciIsImVsZW1lbnQiLCJjdXN0b21IYW5kbGVyIiwib25DdXN0b21FdmVudCIsIm9mZkN1c3RvbURyb3AiLCJvZmZDdXN0b21FdmVudCIsIm9uQ3VzdG9tRHJhZ091dCIsImRyYWdPdXRDdXN0b21IYW5kbGVyIiwib2ZmQ3VzdG9tRHJhZ091dCIsIm9uQ3VzdG9tRHJhZ092ZXIiLCJkcmFnT3ZlckN1c3RvbUhhbmRsZXIiLCJvZmZDdXN0b21EcmFnT3ZlciIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiZHJhZ0VsZW1lbnRJZ25vcmVzRHJvcEVsZW1lbnQiLCJjaGVja0RyYWdFbGVtZW50SWdub3Jlc0Ryb3BFbGVtZW50Il0sInJhbmdlTWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiJBQUFBOzs7OytCQWlGQTs7O2VBQUE7Ozt5QkEvRW1EO2dDQUM2QztBQUVoRyxJQUFNQSxjQUFjO0FBRXBCQyxPQUFPQyxNQUFNLENBQUNDLFlBQVk7SUFDeEJILGFBQUFBO0FBQ0Y7QUFFQSxTQUFTSSxLQUFLQyxXQUFXLEVBQUVDLE9BQU8sRUFBRUMsSUFBSTtJQUN0QyxJQUFNQyxrQkFBa0JDLHdDQUFzQjtJQUU5QyxJQUFJLENBQUNDLHVC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