"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
var _reference = require("../utilities/reference");
var _customEventTypes = require("../customEventTypes");
var dropElement = null;
Object.assign(globalThis, {
    dropElement: dropElement
});
function drop(event, element, dragElement, aborted, done) {
    var customEventType = _customEventTypes.DROP_CUSTOM_EVENT_TYPE;
    this.callCustomHandlersAsync(customEventType, event, element, dragElement, aborted, done);
}
function dragOut(dragElement) {
    var customEventType = _customEventTypes.DRAG_OUT_CUSTOM_EVENT_TYPE;
    this.callCustomHandlers(customEventType, dragElement);
}
function dragOver(dragElement) {
    var customEventType = _customEventTypes.DRAG_OVER_CUSTOM_EVENT_TYPE;
    this.callCustomHandlers(customEventType, dragElement);
}
function enableDrop() {
    this.onMouseOut(mouseOutHandler, this);
    this.onMouseOver(mouseOverHandler, this);
}
function disableDrop() {
    this.offMouseOut(mouseOutHandler, this);
    this.offMouseOver(mouseOverHandler, this);
}
function onCustomDrop(dropCustomHandler, element) {
    var customEventType = _customEventTypes.DROP_CUSTOM_EVENT_TYPE, customHandler = dropCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomDrop(dropCustomHandler, element) {
    var customEventType = _customEventTypes.DROP_CUSTOM_EVENT_TYPE, customHandler = dropCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
function onCustomDragOut(dragOutCustomHandler, element) {
    var customEventType = _customEventTypes.DRAG_OUT_CUSTOM_EVENT_TYPE, customHandler = dragOutCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomDragOut(dragOutCustomHandler, element) {
    var customEventType = _customEventTypes.DRAG_OUT_CUSTOM_EVENT_TYPE, customHandler = dragOutCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
function onCustomDragOver(dragOverCustomHandler, element) {
    var customEventType = _customEventTypes.DRAG_OVER_CUSTOM_EVENT_TYPE, customHandler = dragOverCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomDragOver(dragOverCustomHandler, element) {
    var customEventType = _customEventTypes.DRAG_OVER_CUSTOM_EVENT_TYPE, customHandler = dragOverCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
var _default = {
    drop: drop,
    dragOut: dragOut,
    dragOver: dragOver,
    enableDrop: enableDrop,
    disableDrop: disableDrop,
    onCustomDrop: onCustomDrop,
    offCustomDrop: offCustomDrop,
    onCustomDragOut: onCustomDragOut,
    offCustomDragOut: offCustomDragOut,
    onCustomDragOver: onCustomDragOver,
    offCustomDragOver: offCustomDragOver
};
function mouseOutHandler(event, element) {
    var dragElement = globalThis.dragElement;
    if (dragElement !== null) {
        var dropElement = null; ///
        Object.assign(globalThis, {
            dropElement: dropElement
        });
        this.dragOut(dragElement);
    }
    event.stopPropagation();
}
function mouseOverHandler(event, element) {
    var dragElement = globalThis.dragElement;
    if (dragElement !== null) {
        var dropElement = this, dragElementIgnoresDropElement = (0, _reference.checkDragElementIgnoresDropElement)(dragElement, dropElement);
        if (dragElementIgnoresDropElement) {
            return;
        }
        Object.assign(globalThis, {
            dropElement: dropElement
        });
        this.dragOver(dragElement);
    }
    event.stopPropagation();
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taXhpbnMvZHJvcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgY2hlY2tEcmFnRWxlbWVudElnbm9yZXNEcm9wRWxlbWVudCB9IGZyb20gXCIuLi91dGlsaXRpZXMvcmVmZXJlbmNlXCI7XG5pbXBvcnQgeyBEUk9QX0NVU1RPTV9FVkVOVF9UWVBFLCBEUkFHX09VVF9DVVNUT01fRVZFTlRfVFlQRSwgRFJBR19PVkVSX0NVU1RPTV9FVkVOVF9UWVBFIH0gZnJvbSBcIi4uL2N1c3RvbUV2ZW50VHlwZXNcIjtcblxuY29uc3QgZHJvcEVsZW1lbnQgPSBudWxsO1xuXG5PYmplY3QuYXNzaWduKGdsb2JhbFRoaXMsIHtcbiAgZHJvcEVsZW1lbnRcbn0pO1xuXG5mdW5jdGlvbiBkcm9wKGV2ZW50LCBlbGVtZW50LCBkcmFnRWxlbWVudCwgYWJvcnRlZCwgZG9uZSkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBEUk9QX0NVU1RPTV9FVkVOVF9UWVBFO1xuXG4gIHRoaXMuY2FsbEN1c3RvbUhhbmRsZXJzQXN5bmMoY3VzdG9tRXZlbnRUeXBlLCBldmVudCwgZWxlbWVudCwgZHJhZ0VsZW1lbnQsIGFib3J0ZWQsIGRvbmUpO1xufVxuXG5mdW5jdGlvbiBkcmFnT3V0KGRyYWdFbGVtZW50KSB7XG4gIGNvbnN0IGN1c3RvbUV2ZW50VHlwZSA9IERSQUdfT1VUX0NVU1RPTV9FVkVOVF9UWVBFO1xuXG4gIHRoaXMuY2FsbEN1c3RvbUhhbmRsZXJzKGN1c3RvbUV2ZW50VHlwZSwgZHJhZ0VsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBkcmFnT3ZlcihkcmFnRWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBEUkFHX09WRVJfQ1VTVE9NX0VWRU5UX1RZUEU7XG5cbiAgdGhpcy5jYWxsQ3VzdG9tSGFuZGxlcnMoY3VzdG9tRXZlbnRUeXBlLCBkcmFnRWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGVuYWJsZURyb3AoKSB7XG4gIHRoaXMub25Nb3VzZU91dChtb3VzZU91dEhhbmRsZXIsIHRoaXMpO1xuICB0aGlzLm9uTW91c2VPdmVyKG1vdXNlT3ZlckhhbmRsZXIsIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBkaXNhYmxlRHJvcCgpIHtcbiAgdGhpcy5vZmZNb3VzZU91dChtb3VzZU91dEhhbmRsZXIsIHRoaXMpO1xuICB0aGlzLm9mZk1vdXNlT3Zlcihtb3VzZU92ZXJIYW5kbGVyLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gb25DdXN0b21Ecm9wKGRyb3BDdXN0b21IYW5kbGVyLCBlbGVtZW50KSB7XG4gIGNvbnN0IGN1c3RvbUV2ZW50VHlwZSA9IERST1BfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgIGN1c3RvbUhhbmRsZXIgPSBkcm9wQ3VzdG9tSGFuZGxlcjsgIC8vL1xuXG4gIHRoaXMub25DdXN0b21FdmVudChjdXN0b21FdmVudFR5cGUsIGN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBvZmZDdXN0b21Ecm9wKGRyb3BDdXN0b21IYW5kbGVyLCBlbGVtZW50KSB7XG4gIGNvbnN0IGN1c3RvbUV2ZW50VHlwZSA9IERST1BfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgIGN1c3RvbUhhbmRsZXIgPSBkcm9wQ3VzdG9tSGFuZGxlcjsgIC8vL1xuXG4gIHRoaXMub2ZmQ3VzdG9tRXZlbnQoY3VzdG9tRXZlbnRUeXBlLCBjdXN0b21IYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gb25DdXN0b21EcmFnT3V0KGRyYWdPdXRDdXN0b21IYW5kbGVyLCBlbGVtZW50KSB7XG4gIGNvbnN0IGN1c3RvbUV2ZW50VHlwZSA9IERSQUdfT1VUX0NVU1RPTV9FVkVOVF9UWVBFLFxuICAgICAgICBjdXN0b21IYW5kbGVyID0gZHJhZ091dEN1c3RvbUhhbmRsZXI7ICAvLy9cblxuICB0aGlzLm9uQ3VzdG9tRXZlbnQoY3VzdG9tRXZlbnRUeXBlLCBjdXN0b21IYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gb2ZmQ3VzdG9tRHJhZ091dChkcmFnT3V0Q3VzdG9tSGFuZGxlciwgZWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBEUkFHX09VVF9DVVNUT01fRVZFTlRfVFlQRSxcbiAgICAgICAgY3VzdG9tSGFuZGxlciA9IGRyYWdPdXRDdXN0b21IYW5kbGVyOyAgLy8vXG5cbiAgdGhpcy5vZmZDdXN0b21FdmVudChjdXN0b21FdmVudFR5cGUsIGN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBvbkN1c3RvbURyYWdPdmVyKGRyYWdPdmVyQ3VzdG9tSGFuZGxlciwgZWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBEUkFHX09WRVJfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgIGN1c3RvbUhhbmRsZXIgPSBkcmFnT3ZlckN1c3RvbUhhbmRsZXI7ICAvLy9cblxuICB0aGlzLm9uQ3VzdG9tRXZlbnQoY3VzdG9tRXZlbnRUeXBlLCBjdXN0b21IYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gb2ZmQ3VzdG9tRHJhZ092ZXIoZHJhZ092ZXJDdXN0b21IYW5kbGVyLCBlbGVtZW50KSB7XG4gIGNvbnN0IGN1c3RvbUV2ZW50VHlwZSA9IERSQUdfT1ZFUl9DVVNUT01fRVZFTlRfVFlQRSxcbiAgICAgICAgY3VzdG9tSGFuZGxlciA9IGRyYWdPdmVyQ3VzdG9tSGFuZGxlcjsgIC8vL1xuXG4gIHRoaXMub2ZmQ3VzdG9tRXZlbnQoY3VzdG9tRXZlbnRUeXBlLCBjdXN0b21IYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBkcm9wLFxuICBkcmFnT3V0LFxuICBkcmFnT3ZlcixcbiAgZW5hYmxlRHJvcCxcbiAgZGlzYWJsZURyb3AsXG4gIG9uQ3VzdG9tRHJvcCxcbiAgb2ZmQ3VzdG9tRHJvcCxcbiAgb25DdXN0b21EcmFnT3V0LFxuICBvZmZDdXN0b21EcmFnT3V0LFxuICBvbkN1c3RvbURyYWdPdmVyLFxuICBvZmZDdXN0b21EcmFnT3ZlclxufVxuXG5mdW5jdGlvbiBtb3VzZU91dEhhbmRsZXIoZXZlbnQsIGVsZW1lbnQpIHtcbiAgY29uc3QgeyBkcmFnRWxlbWVudCB9ID0gZ2xvYmFsVGhpcztcblxuICBpZiAoZHJhZ0VsZW1lbnQgIT09IG51bGwpIHtcbiAgICBjb25zdCBkcm9wRWxlbWVudCA9IG51bGw7IC8vL1xuXG4gICAgT2JqZWN0LmFzc2lnbihnbG9iYWxUaGlzLCB7XG4gICAgICBkcm9wRWxlbWVudFxuICAgIH0pO1xuXG4gICAgdGhpcy5kcmFnT3V0KGRyYWdFbGVtZW50KTtcbiAgfVxuXG4gIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xufVxuXG5mdW5jdGlvbiBtb3VzZU92ZXJIYW5kbGVyKGV2ZW50LCBlbGVtZW50KSB7XG4gIGNvbnN0IHsgZHJhZ0VsZW1lbnQgfSA9IGdsb2JhbFRoaXM7XG5cbiAgaWYgKGRyYWdFbGVtZW50ICE9PSBudWxsKSB7XG4gICAgY29uc3QgZHJvcEVsZW1lbnQgPSB0aGlzLCAvLy9cbiAgICAgICAgICBkcmFnRWxlbWVudElnbm9yZXNEcm9wRWxlbWVudCA9IGNoZWNrRHJhZ0VsZW1lbnRJZ25vcmVzRHJvcEVsZW1lbnQoZHJhZ0VsZW1lbnQsIGRyb3BFbGVtZW50KTtcblxuICAgIGlmIChkcmFnRWxlbWVudElnbm9yZXNEcm9wRWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIE9iamVjdC5hc3NpZ24oZ2xvYmFsVGhpcywge1xuICAgICAgZHJvcEVsZW1lbnRcbiAgICB9KTtcblxuICAgIHRoaXMuZHJhZ092ZXIoZHJhZ0VsZW1lbnQpO1xuICB9XG5cbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG59XG4iXSwibmFtZXMiOlsiZHJvcEVsZW1lbnQiLCJPYmplY3QiLCJhc3NpZ24iLCJnbG9iYWxUaGlzIiwiZHJvcCIsImV2ZW50IiwiZWxlbWVudCIsImRyYWdFbGVtZW50IiwiYWJvcnRlZCIsImRvbmUiLCJjdXN0b21FdmVudFR5cGUiLCJEUk9QX0NVU1RPTV9FVkVOVF9UWVBFIiwiY2FsbEN1c3RvbUhhbmRsZXJzQXN5bmMiLCJkcmFnT3V0IiwiRFJBR19PVVRfQ1VTVE9NX0VWRU5UX1RZUEUiLCJjYWxsQ3VzdG9tSGFuZGxlcnMiLCJkcmFnT3ZlciIsIkRSQUdfT1ZFUl9DVVNUT01fRVZFTlRfVFlQRSIsImVuYWJsZURyb3AiLCJvbk1vdXNlT3V0IiwibW91c2VPdXRIYW5kbGVyIiwib25Nb3VzZU92ZXIiLCJtb3VzZU92ZXJIYW5kbGVyIiwiZGlzYWJsZURyb3AiLCJvZmZNb3VzZU91dCIsIm9mZk1vdXNlT3ZlciIsIm9uQ3VzdG9tRHJvcCIsImRyb3BDdXN0b21IYW5kbGVyIiwiY3VzdG9tSGFuZGxlciIsIm9uQ3VzdG9tRXZlbnQiLCJvZmZDdXN0b21Ecm9wIiwib2ZmQ3VzdG9tRXZlbnQiLCJvbkN1c3RvbURyYWdPdXQiLCJkcmFnT3V0Q3VzdG9tSGFuZGxlciIsIm9mZkN1c3RvbURyYWdPdXQiLCJvbkN1c3RvbURyYWdPdmVyIiwiZHJhZ092ZXJDdXN0b21IYW5kbGVyIiwib2ZmQ3VzdG9tRHJhZ092ZXIiLCJzdG9wUHJvcGFnYXRpb24iLCJkcmFnRWxlbWVudElnbm9yZXNEcm9wRWxlbWVudCIsImNoZWNrRHJhZ0VsZW1lbnRJZ25vcmVzRHJvcEVsZW1lbnQiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsiLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBaUZBOzs7ZUFBQTs7O3lCQS9FbUQ7Z0NBQzZDO0FBRWhHLElBQU1BLGNBQWM7QUFFcEJDLE9BQU9DLE1BQU0sQ0FBQ0MsWUFBWTtJQUN4QkgsYUFBQUE7QUFDRjtBQUVBLFNBQVNJLEtBQUtDLEtBQUssRUFBRUMsT0FBTyxFQUFFQyxXQUFXLEVBQUVDLE9BQU8sRUFB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